[general]
instance_option = --spot --aws-log-group-name genomon

[bwa_alignment]
resource = --aws-ec2-instance-type t2.2xlarge --disk-size 80
image = genomon/bwa_alignment:0.2.0
bamtofastq_option = collate=1 combs=1 exclude=QCFAIL,SECONDARY,SUPPLEMENTARY tryoq=1
bwa_option = -t 8 -T 0
bwa_reference_dir = s3://genomon-bucket/_GRCh37/reference/GRCh37
bwa_reference_file = GRCh37.fa
bamsort_option = index=1 level=1 inputthreads=2 outputthreads=2 calmdnm=1 calmdnmrecompindentonly=1
bammarkduplicates_option = markthreads=2 rewritebam=1 rewritebamlevel=1 index=1 md5=1

[sv_parse]
resource = --aws-ec2-instance-type t2.large --disk-size 15
image = genomon/genomon_sv:0.1.0
genomon_sv_parse_option =

[sv_merge]
resource = --aws-ec2-instance-type t2.large --disk-size 15
image = genomon/genomon_sv:0.1.0
genomon_sv_merge_option =

[sv_filt]
resource = --aws-ec2-instance-type t2.large --disk-size 50
image = genomon/genomon_sv:0.1.0
reference = s3://genomon-bucket/_GRCh37/reference/GRCh37/GRCh37.fa
genomon_sv_filt_option =--grc --min_junc_num 2 --max_control_variant_read_pair 10 --min_overhang_size 30
sv_utils_filt_option = --min_tumor_allele_freq 0.07 --max_control_variant_read_pair 1 --control_depth_thres 10 --inversion_size_thres 1000

[star_alignment]
resource = --aws-ec2-instance-type-list t3.2xlarge,m4.2xlarge,t2.2xlarge --disk-size 128
image = genomon/star_alignment
bamtofastq_option = collate=1 combs=1 exclude=QCFAIL,SECONDARY,SUPPLEMENTARY tryoq=1
star_option = --runThreadN 6 --outSAMstrandField intronMotif --outSAMunmapped Within --alignMatesGapMax 500000 --alignIntronMax 500000 --alignSJstitchMismatchNmax -1 -1 -1 -1 --outSJfilterDistToOtherSJmin 0 0 0 0 --outSJfilterOverhangMin 12 12 12 12 --outSJfilterCountUniqueMin 1 1 1 1 --outSJfilterCountTotalMin 1 1 1 1 --chimSegmentMin 12 --chimJunctionOverhangMin 12 --outSAMtype BAM Unsorted
star_reference = s3://genomon-bucket/_GRCh37/reference/GRCh37.STAR-2.5.2a
samtools_sort_option = -@ 6 -m 3G

[fusion_count_control]
resource =  --aws-ec2-instance-type-list t3.medium,t2.medium,m4.large --disk-size 20
image = genomon/fusionfusion
chimera_utils_count_option = 

[fusion_merge_control]
resource =  --aws-ec2-instance-type-list t3.medium,t2.medium,m4.large --disk-size 20
image = genomon/fusionfusion
chimera_utils_merge_control_option = 

[fusionfusion]
resource =  --aws-ec2-instance-type-list t3.large,m4.large,t2.large --disk-size 30
image = genomon/fusionfusion
fusionfusion_option = --grc
filt_option = --filter_same_gene --grc
reference = s3://genomon-bucket/_GRCh37/reference/GRCh37/GRCh37.fa

[genomon_expression]
resource =  --aws-ec2-instance-type-list t3.large,m4.large,t2.large --disk-size 100
image = genomon/genomon_expression:0.1.0
genomon_expression_option = --grc

[intron_retention]
resource =  --aws-ec2-instance-type-list t3.large,m4.large,t2.large --disk-size 100
image = genomon/intron_retention:0.1.0
intron_retention_option = --grc

[paplot]
enable = True
resource =  --aws-ec2-instance-type-list t3.small,t2.small,m4.large --disk-size 5
image = genomon/paplot:0.1.0
title = Genomon_RNA
remarks = Data used in this report were generated using below software.
software = star_alignment,fusionfusion,genomon_expression
config_file = s3://genomon-bucket/paplot-config/genomon_pipeline_cloud_v2.0.0/paplot_rna.cfg
